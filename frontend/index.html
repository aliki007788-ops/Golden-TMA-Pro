<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Golden TMA Pro</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Cinzel:wght@900&display=swap" rel="stylesheet">
  
  <style>
    /* Ø§Ø³ØªØ§ÛŒÙ„ Ø§ØµÙ„ÛŒ Ø¨Ø±Ø§ÛŒ Ø°Ø±Ø§Øª */
    #particles-js {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: linear-gradient(135deg, #0a001f 0%, #000000 70%);
    }
    
    /* Ù¾Ø´ØªÛŒØ¨Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ canvas Ù„ÙˆØ¯ Ù†Ø´ÙˆØ¯ */
    .particles-fallback {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -2;
      background: linear-gradient(135deg, 
        rgba(255, 215, 0, 0.05) 0%, 
        rgba(255, 215, 0, 0.02) 25%,
        rgba(0, 0, 0, 0.9) 70%,
        #000000 100%
      );
      pointer-events: none;
    }
    
    /* Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¨Ø±Ø§ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ */
    @keyframes shimmer {
      0% { background-position: -200% center; }
      100% { background-position: 200% center; }
    }
    
    .shimmer-bg {
      background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(255, 215, 0, 0.1) 20%,
        rgba(255, 215, 0, 0.3) 50%,
        rgba(255, 215, 0, 0.1) 80%,
        transparent 100%
      );
      background-size: 200% auto;
      animation: shimmer 8s infinite linear;
    }
  </style>
</head>
<body>
  <!-- Ù„Ø§ÛŒÙ‡ Ù¾Ø´ØªÛŒØ¨Ø§Ù† -->
  <div class="particles-fallback shimmer-bg"></div>
  
  <!-- Ú©Ø§Ù†ÙˆØ§Ø³ Ø°Ø±Ø§Øª -->
  <div id="particles-js"></div>

  <div class="container">
    <h1>Golden TMA Pro</h1>
    <p class="subtitle">Professional Telegram Mini App Tools â€“ Payment with Stars</p>

    <div class="tier-buttons">
      <button class="tier-btn" data-tier="basic">
        <span class="tier-text">Basic Tier</span>
        <span class="tier-price">99-299 Stars</span>
        <div class="turquoise-star"></div>
      </button>
      <button class="tier-btn" data-tier="pro">
        <span class="tier-text">Pro Tier</span>
        <span class="tier-price">399-699 Stars</span>
        <div class="turquoise-star"></div>
      </button>
      <button class="tier-btn" data-tier="premium">
        <span class="tier-text">Premium Tier</span>
        <span class="tier-price">799-1499 Stars</span>
        <div class="turquoise-star"></div>
      </button>
    </div>

    <div id="toolsList" class="tools-grid"></div>
  </div>

  <!-- Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø°Ø±Ø§Øª Ù…Ø­Ù„ÛŒ -->
  <script>
    // ==================== Ø³ÛŒØ³ØªÙ… Ø°Ø±Ø§Øª Ø³ÛŒÙ†Ù…Ø§ÛŒÛŒ ====================
    (function() {
      console.log('ğŸ¬ Golden TMA Pro - Cinematic Particles System Initializing...');
      
      // 1. Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© Ø°Ø±Ø§Øª fallback Ø³Ø§Ø¯Ù‡
      function createSimpleParticles() {
        console.log('ğŸ”„ Creating simple particle fallback...');
        const canvas = document.getElementById('particles-js');
        if (!canvas) return;
        
        // Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ù‚Ø¨Ù„ÛŒ
        canvas.innerHTML = '';
        
        // Ø§ÛŒØ¬Ø§Ø¯ canvas Ø¯Ø³ØªÛŒ
        const simpleCanvas = document.createElement('canvas');
        simpleCanvas.width = window.innerWidth;
        simpleCanvas.height = window.innerHeight;
        simpleCanvas.style.cssText = `
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
        `;
        canvas.appendChild(simpleCanvas);
        
        const ctx = simpleCanvas.getContext('2d');
        const particles = [];
        const particleCount = 80;
        
        // Ø§ÛŒØ¬Ø§Ø¯ Ø°Ø±Ø§Øª Ø·Ù„Ø§ÛŒÛŒ
        for (let i = 0; i < particleCount; i++) {
          particles.push({
            x: Math.random() * simpleCanvas.width,
            y: Math.random() * simpleCanvas.height,
            size: Math.random() * 4 + 2,
            speedX: (Math.random() - 0.5) * 1.5,
            speedY: (Math.random() - 0.5) * 1.5,
            color: '#FFD700',
            opacity: Math.random() * 0.6 + 0.2
          });
        }
        
        // ØªØ§Ø¨Ø¹ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
        function animate() {
          ctx.clearRect(0, 0, simpleCanvas.width, simpleCanvas.height);
          
          // Ø¢Ù¾Ø¯ÛŒØª Ùˆ Ø±Ø³Ù… Ø°Ø±Ø§Øª
          particles.forEach(p => {
            p.x += p.speedX;
            p.y += p.speedY;
            
            // Ø¨Ø§Ø²Ú¯Ø´Øª Ø§Ø² Ù„Ø¨Ù‡â€ŒÙ‡Ø§
            if (p.x < 0 || p.x > simpleCanvas.width) p.speedX *= -1;
            if (p.y < 0 || p.y > simpleCanvas.height) p.speedY *= -1;
            
            // Ø±Ø³Ù… Ø°Ø±Ø§Øª Ø·Ù„Ø§ÛŒÛŒ
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
            ctx.fillStyle = p.color;
            ctx.globalAlpha = p.opacity;
            ctx.fill();
            
            // Ø§ØªØµØ§Ù„ Ø®Ø·ÙˆØ· Ø·Ù„Ø§ÛŒÛŒ
            particles.forEach(p2 => {
              const dx = p.x - p2.x;
              const dy = p.y - p2.y;
              const distance = Math.sqrt(dx * dx + dy * dy);
              
              if (distance < 120) {
                ctx.beginPath();
                ctx.moveTo(p.x, p.y);
                ctx.lineTo(p2.x, p2.y);
                ctx.strokeStyle = '#FFD700';
                ctx.globalAlpha = 0.15 * (1 - distance/120);
                ctx.lineWidth = 1;
                ctx.stroke();
              }
            });
          });
          
          requestAnimationFrame(animate);
        }
        
        animate();
        console.log('âœ… Simple particles activated');
      }
      
      // 2. Ù„ÙˆØ¯ particles.js Ø§Ø² CDN
      function loadParticlesJS() {
        return new Promise((resolve, reject) => {
          if (typeof particlesJS !== 'undefined') {
            console.log('âœ… particlesJS already loaded');
            resolve();
            return;
          }
          
          console.log('ğŸ“¦ Loading particles.js from CDN...');
          const script = document.createElement('script');
          script.src = 'https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js';
          script.crossOrigin = 'anonymous';
          
          script.onload = () => {
            console.log('âœ… particles.js loaded successfully');
            resolve();
          };
          
          script.onerror = () => {
            console.warn('âš ï¸ Failed to load particles.js from CDN');
            reject();
          };
          
          document.head.appendChild(script);
        });
      }
      
      // 3. ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø°Ø±Ø§Øª Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ
      function initProfessionalParticles() {
        if (typeof particlesJS === 'undefined') {
          console.warn('âŒ particlesJS not available, using simple particles');
          createSimpleParticles();
          return;
        }
        
        const canvas = document.getElementById('particles-js');
        if (!canvas) {
          console.error('âŒ Canvas element not found');
          return;
        }
        
        // Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ
        canvas.innerHTML = '';
        
        const isMobile = window.innerWidth < 768;
        
        try {
          particlesJS('particles-js', {
            particles: {
              number: { 
                value: isMobile ? 60 : 120, 
                density: { 
                  enable: true, 
                  value_area: 1000 
                } 
              },
              color: { 
                value: '#FFD700' 
              },
              shape: { 
                type: 'circle',
                stroke: { width: 0, color: '#000000' }
              },
              opacity: { 
                value: isMobile ? 0.4 : 0.7, 
                random: true, 
                anim: { 
                  enable: true, 
                  speed: 0.8, 
                  opacity_min: 0.1,
                  sync: false
                } 
              },
              size: { 
                value: isMobile ? 2.5 : 4.5, 
                random: true, 
                anim: { 
                  enable: true, 
                  speed: 30, 
                  size_min: 0.5,
                  sync: false
                } 
              },
              line_linked: { 
                enable: true, 
                distance: isMobile ? 90 : 150, 
                color: '#FFD700', 
                opacity: 0.3, 
                width: 1 
              },
              move: { 
                enable: true, 
                speed: isMobile ? 1.5 : 3, 
                direction: 'none', 
                random: true, 
                straight: false,
                out_mode: 'out',
                bounce: false,
                attract: { enable: false, rotateX: 600, rotateY: 1200 }
              }
            },
            interactivity: {
              detect_on: 'canvas',
              events: { 
                onhover: { 
                  enable: true, 
                  mode: 'repulse' 
                }, 
                onclick: { 
                  enable: true, 
                  mode: 'push' 
                }, 
                resize: true 
              },
              modes: { 
                repulse: { 
                  distance: isMobile ? 80 : 140, 
                  duration: 0.4 
                }, 
                push: { 
                  particles_nb: 3 
                },
                remove: { particles_nb: 2 }
              }
            },
            retina_detect: true
          });
          
          console.log('âœ¨ Cinematic Golden Particles Activated!');
          
          // Ù†Ù…Ø§ÛŒØ´ ØªØ£ÛŒÛŒØ¯
          setTimeout(() => {
            const canvasElement = canvas.querySelector('canvas');
            if (canvasElement) {
              canvasElement.style.transition = 'box-shadow 1s';
              canvasElement.style.boxShadow = '0 0 50px rgba(255, 215, 0, 0.3)';
              setTimeout(() => canvasElement.style.boxShadow = 'none', 2000);
            }
          }, 500);
          
        } catch (error) {
          console.error('âŒ Error initializing particles:', error);
          createSimpleParticles();
        }
      }
      
      // 4. Ø³ÛŒØ³ØªÙ… Ù„ÙˆØ¯ Ø§ØµÙ„ÛŒ
      function initializeParticlesSystem() {
        console.log('ğŸš€ Starting particles system...');
        
        // Ø§Ø¨ØªØ¯Ø§ Ø°Ø±Ø§Øª Ø³Ø§Ø¯Ù‡ Ø±Ø§ ÙØ¹Ø§Ù„ Ú©Ù†
        createSimpleParticles();
        
        // Ø³Ù¾Ø³ Ø³Ø¹ÛŒ Ú©Ù† particles.js Ø±Ø§ Ù„ÙˆØ¯ Ú©Ù†ÛŒ
        loadParticlesJS()
          .then(() => {
            console.log('ğŸ”„ Initializing professional particles...');
            setTimeout(initProfessionalParticles, 300);
          })
          .catch(() => {
            console.log('â„¹ï¸ Using simple particles system');
          });
      }
      
      // 5. Ø´Ø±ÙˆØ¹ Ø³ÛŒØ³ØªÙ…
      window.addEventListener('DOMContentLoaded', () => {
        console.log('ğŸ“„ DOM loaded');
        setTimeout(initializeParticlesSystem, 200);
      });
      
      // Ø±ÛŒØ³Ø§ÛŒØ² Ú©Ø±Ø¯Ù†
      let resizeTimer;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
          console.log('ğŸ”„ Window resized, updating particles...');
          initializeParticlesSystem();
        }, 250);
      });
      
      // 6. Ø³ÛŒØ³ØªÙ… ØªØ³Øª Ùˆ Ø¯ÛŒØ¨Ø§Ú¯
      setTimeout(() => {
        const canvas = document.getElementById('particles-js');
        if (canvas) {
          const hasCanvas = canvas.querySelector('canvas');
          console.log('ğŸ” Particles Debug:');
          console.log('- Canvas element:', !!canvas);
          console.log('- Has canvas child:', !!hasCanvas);
          console.log('- Window size:', window.innerWidth, 'x', window.innerHeight);
          
          if (!hasCanvas) {
            console.log('âš ï¸ No canvas found, reinitializing...');
            initializeParticlesSystem();
          }
        }
      }, 3000);
      
    })();
  </script>
  
  <!-- main.js Ø¯Ø± Ø¢Ø®Ø± -->
  <script src="main.js"></script>
</body>
</html>
